<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html>
  <head>
    <title>Affinity for Mermaid Demo Page</title>
	<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css' rel='stylesheet'/>

    <script type="module">
        // Configure mermaid
        // https://mermaid.js.org/config/usage.html
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

        // Bring in ALL the icon sets, giving them nice names for use in the mermaid diagrams
        mermaid.registerIconPacks([
        {
            name: 'affinity',
            loader: () =>
            fetch('https://themillhousegroup.github.io/affinity-for-mermaid/icons.json').then((res) => res.json()),
        },
        {
            name: 'affsquare',
            loader: () =>
            fetch('https://themillhousegroup.github.io/affinity-for-mermaid/square.json').then((res) => res.json()),
        },
        {
            name: 'affcircle',
            loader: () =>
            fetch('https://themillhousegroup.github.io/affinity-for-mermaid/circle.json').then((res) => res.json()),
        },
        ]);

    </script>
  </head>
  <body>
    <p>To see under the covers, view the source, or <a href="https://github.com/themillhousegroup/affinity-for-mermaid/blob/master/demo.html">inspect in the repo</a>.</p>
    
    <h3>Standard mermaid graph (no custom icons)</h3>
    <pre class="mermaid">
        graph LR
        A --- B
        B-->C[fa:fa-ban forbidden]
        B-->D(fa:fa-spinner);
    </pre>
    <p>The above graph just checks that a standard Mermaid install is working on this page</p>
    <hr />

    <h3>Network graph using "naked" icon set (aka "affinity")</h3>
    <pre class="mermaid">
        architecture-beta
            group api(affinity:house)[API]
        
            service printer(affinity:printer)[Printer] in api
            service disk1(affinity:storage)[Storage] in api
            service server(affinity:server)[Server] in api

            server:B --> T:printer
            server:L <--> T:disk1
    </pre>
    <hr />
    <h3>Network graph using "circle" icon set (aka "affinity-circle")</h3>
    <pre class="mermaid">
        architecture-beta
            group api(affcircle:c-house)[API]
        
            service server(affcircle:c-server)[Server] in api
            service disk1(affcircle:c-storage)[Storage] in api
            service printer(affcircle:c-printer)[Printer] in api

            server:B --> T:printer
            server:L <--> T:disk1
    </pre>
    <hr />

    <h3>Network graph using "square" icon set (aka "affinity-square")</h3>
    <pre class="mermaid">
        architecture-beta
            group api(affsquare:sq-house)[API]
        
            service printer(affsquare:sq-printer)[Printer] in api
            service disk1(affsquare:sq-storage)[Storage] in api
            service server(affsquare:sq-server)[Server] in api

            server:B --> T:printer
            server:L <--> T:disk1
    </pre>
    <hr />

    <p>Back to <a href="https://github.com/themillhousegroup/affinity-for-mermaid">affinity-for-mermaid</a></p>

  </body>
</html>


